apiVersion: cs.opensourceways.com/v1alpha1
kind: CodeServer
metadata:
  name: codeserver-sample
spec:
  runtime: gotty
  url: codeserversample
  image: "opensourceway/openeuler-20.03-lts-sp1-base:latest"
  volumeSize: "100m"
  storageClassName: "standard"
  inactiveAfterSeconds: 60
  recycleAfterSeconds: 60
  port: 8080
  envs:
    - name: GOTTY_PORT
      value: "8080"
    - name: GOTTY_ONLY_ENABLE_BACKEND_WS_SERVER
      value: "true"
    - name: GOTTY_CREDENTIAL
      value: name:password
    - name: SHELL_USER
      value: tommylikehu
    - name: COMMUNITY_EMAIL
      value: contact@openeuler.io
    - name: GOTTY_WS_ORIGIN
      value: ".*"
    - name: GOTTY_PERMIT_WRITE
      value: "true"
  args:
    - zsh
  connectProbe: "/active-time"
  privileged: false
  resources:
    requests:
      cpu: "1"

